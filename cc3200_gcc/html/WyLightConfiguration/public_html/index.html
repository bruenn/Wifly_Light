<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="WyLight - Configuration">
    <meta name="author" content="Nils Weiss">
    <link rel="shortcut icon" href="media/favicon.png">

    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/bootstrap-theme.min.css" rel="stylesheet">
    <!-- Include custom style sheet -->
    <link href="css/custom.css" rel="stylesheet">
    <!-- Include jQuery -->
    <script src="js/jquery-2.1.1.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="css/jquery-ui.min.css">
    <script src="js/ui/jquery-ui.min.js"></script>

    <title>WyLight Configuration</title>

    <script>
      $(function() {
        var ssids = [
          "__SL_G_US1",
          "__SL_G_US2",
          "__SL_G_US3",
          "__SL_G_US4",
          "__SL_G_US5"
        ];
        ssids = jQuery.grep(ssids, function(value) {
          return value !== "Unknown Token";
        });
        $("#ssid_input").autocomplete({
          source: ssids
        });
      });
    </script>

  </head>
  <body>
    <div class="container">
      <div class="jumbotron">
        <div class="media pull-right">
          <img class="img-responsive" width="280" alt="WyLight-Logo" src="media/Symbol.png">
        </div>

        <h1 class="featurette-heading">WyLight Configurator</h1>
        <p class="lead">Please choose your accesspoint and select your security settings.</p>

      </div>
    </div>
    <div class="container">
      <form id="SimpleLink_Configuration" action="/" >
        <div class="col-md-10 col-md-offset-1">
          <div class="input-group input-group-lg">
            <span class="input-group-addon">SSID:</span>
            <input id="ssid_input" type="text" class="form-control" name="__SL_P_USD" value="__SL_G_US1">
          </div>
          <p></p>
        </div>
        <div class="col-md-10 col-md-offset-1">
          <div class="input-group input-group-lg">
            <span class="input-group-addon">Security Type:</span>
            <select name="__SL_P_USE" class="form-control">
              <option value="0">OPEN</option>
              <option value="1">WEP</option>
              <option value="2">WPA</option>
            </select>
          </div>
          <p></p>
        </div>
        <div class="col-md-10 col-md-offset-1">
          <div class="input-group input-group-lg">
            <span class="input-group-addon">KEY:</span>
            <input type="text" class="form-control" maxlength="64" name="__SL_P_USF">
          </div>
          <p></p>
        </div>
        <div class="col-md-12 text-center">
          <input type="submit" class="btn btn-lg btn-success" name="__SL_P_USC" value="Add">

          <p></p>
        </div>
        <input type="hidden" name="__SL_P_USG" value="1">
      </form>
    </div>

    <section class="section_feature">
      <div class="container marketing">
        <div class="row featurette">
          <div class="col-md-11 col-md-offset-1">
            <h2 class="featurette-heading">Android, iOS <span class="text-muted">and Open Source.</span></h2>
            <p class="lead">Get your WyLight App <span class="text-primary">for free</span>. Or fork our source code on GitHub.</p>
          </div>
        </div>
        <div class="row featurette">
          <div class="col-md-4">
            <a href="https://play.google.com/store/apps/details?id=de.WyLight.WyLight">
              <img class="featurette-image img-responsive center-block" alt="Get it on Google Play" src="media/playstore.png" />
            </a>
          </div>  
          <div class="col-md-4">
            <a href="https://itunes.apple.com/de/app/wylight/id768060884">
              <img class="featurette-image img-responsive center-block" alt="Get it on App Store" src="media/appstore.png" />
            </a>
          </div>  
          <div class="col-md-4">
            <a href="https://github.com/polybassa/Wifly_Light">
              <img class="featurette-image img-responsive center-block" alt="GitHub" src="media/GitHub_Logo.png" />
            </a>
          </div>  
        </div>
      </div>
    </section> 

    <section id="section_about" style="margin-top: 50px; padding-top: 20px;">
      <div class="container marketing">
        <div class="media">
          <img class="img-responsive" width="200" alt="WyLight-Logo" src="media/Logo.png">
        </div>
        <footer id="about">
          <p class="pull-right">
            <a href="mailto:info@wylight.de">Kontakt</a>
          </p>
          <div>&copy; 2013 Fritz W&auml;gner, Nils Wei&szlig; und Patrick Br&uuml;nn, WyLight GbR</div>
        </footer>
      </div>
    </section>
    <script>
      var escapable = /[\\\"\x00-\x1f\x7f-\uffff]/g,
              meta = {// table of character substitutions
                '\b': '\\b',
                '\t': '\\t',
                '\n': '\\n',
                '\f': '\\f',
                '\r': '\\r',
                '"': '\\"',
                '\\': '\\\\'
              };

      function quote(string) {

// If the string contains no control characters, no quote characters, and no
// backslash characters, then we can safely slap some quotes around it.
// Otherwise we must also replace the offending characters with safe escape
// sequences.

        escapable.lastIndex = 0;
        return escapable.test(string) ?
                '"' + string.replace(escapable, function(a) {
                  var c = meta[a];
                  return typeof c === 'string' ? c :
                          '\\u' + ('0000' + a.charCodeAt(0).toString(16)).slice(-4);
                }) + '"' :
                '"' + string + '"';
      }

      $("#SimpleLink_Configuration").submit(function(event) {

        event.preventDefault();

        var $form = $(this), url = $form.attr("action");
        $('input.__SL_P_USF').val(quote($('input.__SL_P_USF').val()));
        var postData = $form.serializeArray();

        postData.push({name: "__SL_P_USC", value: "Add"});


        $.post(url, postData);

        alert("Your configuration has been transferred to your WyLight.");

      });
    </script>
  </body>
</html>
